{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/src/frontend/index.js","webpack:///./src/assets/src/frontend/js/calendar-app.js","webpack:///./src/assets/src/frontend/scss/main.scss"],"names":["document","addEventListener","CalendarApp","registrations","AdditionalRegistrationData","calendarDayData","daysAvailable","days","querySelectorAll","currentRegistration","lastDayClicked","loadRegistrations","addEvents","fetch","method","then","response","json","data","alert","error","normalizeData","loadUI","catch","err","console","log","getElementById","event","registrationId","target","value","detailsStatus","detailsFrom","detailsTo","forEach","registration","id","toString","innerText","status","start_date","end_date","setDetailsColColor","setAdditionalInfo","saveData","key","disabled","type","checked","room_id","startDate","Date","endDate","getDates","date","registrationDate","dateToYMD","registrationIds","names","occupied","pending","push","full_name","day","dataset","join","setAttribute","classList","add","getStatusClass","remove","split","firstRegistrationPopulated","detailsSelectNames","includes","options","length","option","createElement","innerHTML","appendChild","detailsColumn","regId","flight","diet","yoga","juice","massage","breath","dates","setDate","getDate","d","m","getMonth","y","getFullYear"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AACA;CAIA;;AACAA,QAAQ,CAACC,gBAAT,CAA2B,kBAA3B,EAA+C,YAAM;AACpD,MAAIC,2DAAJ;AACA,CAFD,E;;;;;;;;;;;;;;;;;;;;;;;;;;;ICNMA,W;;;AAEL,yBAAa;AAAA;;AAEZ;AACA,SAAKC,aAAL,GAAqB,EAArB,CAHY,CAKZ;;AACA,SAAKC,0BAAL,GAAkC,EAAlC,CANY,CAQZ;;AACA,SAAKC,eAAL,GAAuB,EAAvB,CATY,CAWZ;;AACA,SAAKC,aAAL,GAAqB,CAArB,CAZY,CAcZ;;AACA,SAAKC,IAAL,GAAYP,QAAQ,CAACQ,gBAAT,CAA2B,YAA3B,CAAZ,CAfY,CAiBZ;;AACA,SAAKC,mBAAL,GAA2B,CAA3B,CAlBY,CAoBZ;;AACA,SAAKC,cAAL,GAAsB,KAAtB,CArBY,CAuBZ;;AACA,SAAKC,iBAAL;AAEA,SAAKC,SAAL;AACA;;;;wCAEkB;AAAA;;AAElB;AACAC,WAAK,CAAE,gGAAF,EAAoG;AACxGC,cAAM,EAAE;AADgG,OAApG,CAAL,CAGEC,IAHF,CAGQ,UAAWC,QAAX,EAAqB;AAC3B;AACA,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,OANF,EAOEF,IAPF,CAOQ,UAAEG,IAAF,EAAY;AAClB,YAAI,WAAWA,IAAf,EAAqB;AACpB;AACAC,eAAK,CAAED,IAAI,CAACE,KAAP,CAAL;AACA,SAHD,MAGO;AACN;AACA,eAAI,CAACjB,aAAL,GAAqBe,IAArB,CAFM,CAIN;;AACA,eAAI,CAACG,aAAL,GALM,CAON;;;AACA,eAAI,CAACC,MAAL;AACA;AACD,OArBF,EAsBEC,KAtBF,CAsBS,UAAWC,GAAX,EAAgB;AACvB;AACAC,eAAO,CAACC,GAAR,CAAaF,GAAb;AACAL,aAAK,CAAEK,GAAF,CAAL;AACA,OA1BF,EAHkB,CA+BlB;;AACAX,WAAK,CAAE,qDAAF,EAAyD;AAC7DC,cAAM,EAAE;AADqD,OAAzD,CAAL,CAGEC,IAHF,CAGQ,UAAWC,QAAX,EAAqB;AAC3B;AACA,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,OANF,EAOEF,IAPF,CAOQ,UAAEG,IAAF,EAAY;AAClB,YAAI,WAAWA,IAAf,EAAqB;AACpB;AACAC,eAAK,CAAED,IAAI,CAACE,KAAP,CAAL;AACA,SAHD,MAGO;AACN;AACA,eAAI,CAAChB,0BAAL,GAAkCc,IAAlC;AACA;AACD,OAfF,EAgBEK,KAhBF,CAgBS,UAAWC,GAAX,EAAgB;AACvB;AACAC,eAAO,CAACC,GAAR,CAAaF,GAAb;AACAL,aAAK,CAAEK,GAAF,CAAL;AACA,OApBF;AAsBA;;;gCAEU;AAAA;;AACVxB,cAAQ,CAAC2B,cAAT,CAAyB,6BAAzB,EAAyD1B,gBAAzD,CAA2E,QAA3E,EAAqF,UAAE2B,KAAF,EAAa;AAEjG;AACA,YAAIC,cAAc,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAlC;AAEA,YAAIC,aAAa,GAAGhC,QAAQ,CAAC2B,cAAT,CAAyB,yBAAzB,CAApB;AACA,YAAIM,WAAW,GAAKjC,QAAQ,CAAC2B,cAAT,CAAyB,uBAAzB,CAApB;AACA,YAAIO,SAAS,GAAOlC,QAAQ,CAAC2B,cAAT,CAAyB,qBAAzB,CAApB,CAPiG,CASjG;AACA;;AACA,cAAI,CAACxB,aAAL,CAAmBgC,OAAnB,CAA4B,UAAAC,YAAY,EAAI;AAC3C,cAAIP,cAAc,KAAKO,YAAY,CAACC,EAAb,CAAgBC,QAAhB,EAAvB,EAAmD;AAClD,kBAAI,CAAC7B,mBAAL,GAA2B2B,YAAY,CAACC,EAAxC;AACAL,yBAAa,CAACO,SAAd,GAA2BH,YAAY,CAACI,MAAxC;AACAP,uBAAW,CAACM,SAAZ,GAA2BH,YAAY,CAACK,UAAxC;AACAP,qBAAS,CAACK,SAAV,GAA2BH,YAAY,CAACM,QAAxC;;AACA,kBAAI,CAACC,kBAAL,CAAyBP,YAAY,CAACI,MAAtC;;AACA,kBAAI,CAACI,iBAAL,CAAwBR,YAAY,CAACC,EAArC;AACA;AACD,SATD;AAUA,OArBD;AAuBArC,cAAQ,CAAC2B,cAAT,CAAyB,8BAAzB,EAA0D1B,gBAA1D,CAA4E,MAA5E,EAAoF,UAAE2B,KAAF,EAAa;AAChG,cAAI,CAACiB,QAAL,CAAe,aAAf,EAA8BjB,KAA9B;AACA,OAFD;AAIA5B,cAAQ,CAAC2B,cAAT,CAAyB,8BAAzB,EAA0D1B,gBAA1D,CAA4E,QAA5E,EAAsF,UAAE2B,KAAF,EAAa;AAClG,cAAI,CAACiB,QAAL,CAAe,MAAf,EAAuBjB,KAAvB;AACA,OAFD;AAIA5B,cAAQ,CAAC2B,cAAT,CAAyB,2BAAzB,EAAuD1B,gBAAvD,CAAyE,QAAzE,EAAmF,UAAE2B,KAAF,EAAa;AAC/F,cAAI,CAACiB,QAAL,CAAe,MAAf,EAAuBjB,KAAvB;AACA,OAFD;AAIA5B,cAAQ,CAAC2B,cAAT,CAAyB,4BAAzB,EAAwD1B,gBAAxD,CAA0E,QAA1E,EAAoF,UAAE2B,KAAF,EAAa;AAChG,cAAI,CAACiB,QAAL,CAAe,OAAf,EAAwBjB,KAAxB;AACA,OAFD;AAIA5B,cAAQ,CAAC2B,cAAT,CAAyB,8BAAzB,EAA0D1B,gBAA1D,CAA4E,QAA5E,EAAsF,UAAE2B,KAAF,EAAa;AAClG,cAAI,CAACiB,QAAL,CAAe,SAAf,EAA0BjB,KAA1B;AACA,OAFD;AAIA5B,cAAQ,CAAC2B,cAAT,CAAyB,6BAAzB,EAAyD1B,gBAAzD,CAA2E,QAA3E,EAAqF,UAAE2B,KAAF,EAAa;AACjG,cAAI,CAACiB,QAAL,CAAe,QAAf,EAAyBjB,KAAzB;AACA,OAFD;AAGA;;;6BAESkB,G,EAAKlB,K,EAAO;AAAA;;AAErBA,WAAK,CAACE,MAAN,CAAaiB,QAAb,GAAwB,IAAxB;AAEA,UAAIhB,KAAJ;;AAEA,UAAI,eAAeH,KAAK,CAACE,MAAN,CAAakB,IAAhC,EAAsC;AACrCjB,aAAK,GAAGH,KAAK,CAACE,MAAN,CAAamB,OAArB;AACA,OAFD,MAEO;AACNlB,aAAK,GAAGH,KAAK,CAACE,MAAN,CAAaC,KAArB;AACA,OAVoB,CAYrB;;;AACAlB,WAAK,CAAE,wEAAwE,KAAKJ,mBAA7E,GAAmG,OAAnG,GAA6GqC,GAA7G,GAAmH,SAAnH,GAA+Hf,KAAjI,EAAwI;AAC5IjB,cAAM,EAAE;AADoI,OAAxI,CAAL,CAGEC,IAHF,CAGQ,UAAWC,QAAX,EAAqB;AAC3B;AACA,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACA,OANF,EAOEF,IAPF,CAOQ,UAAEG,IAAF,EAAY;AAClB,YAAI,WAAWA,IAAf,EAAqB;AACpB;AACAC,eAAK,CAAED,IAAI,CAACE,KAAP,CAAL;AACA,SAHD,MAGO;AACN;AACA,gBAAI,CAAChB,0BAAL,GAAkCc,IAAlC;AACAU,eAAK,CAACE,MAAN,CAAaiB,QAAb,GAAkC,KAAlC;AACA;AACD,OAhBF,EAiBExB,KAjBF,CAiBS,UAAWC,GAAX,EAAgB;AACvB;AACAC,eAAO,CAACC,GAAR,CAAaF,GAAb;AACAL,aAAK,CAAEK,GAAF,CAAL;AACA,OArBF;AAsBA;;;oCAEc;AAAA;;AAEd,yBAAI,KAAKrB,aAAT,EAAwBgC,OAAxB,CAAiC,UAAAC,YAAY,EAAI;AAEhD,YAAI,MAAMA,YAAY,CAACc,OAAvB,EAAgC;AAC/B;AACA;;AAED,YAAIC,SAAS,GAAG,IAAIC,IAAJ,CAAUhB,YAAY,CAACK,UAAb,GAA0B,oBAApC,CAAhB;AACA,YAAIY,OAAO,GAAK,IAAID,IAAJ,CAAUhB,YAAY,CAACM,QAAb,GAAwB,oBAAlC,CAAhB;;AAEA,cAAI,CAACY,QAAL,CAAeH,SAAf,EAA0BE,OAA1B,EAAoClB,OAApC,CAA6C,UAAAoB,IAAI,EAAI;AAEpD,cAAIC,gBAAgB,GAAG,MAAI,CAACC,SAAL,CAAgBF,IAAhB,CAAvB;;AAEA,cAAI,EAAGC,gBAAgB,IAAI,MAAI,CAACnD,eAA5B,CAAJ,EAAmD;AAClD,kBAAI,CAACA,eAAL,CAAqBmD,gBAArB,IAAyC;AACxCE,6BAAe,EAAE,EADuB;AAExCC,mBAAK,EAAE,EAFiC;AAGxCnB,oBAAM,EAAE;AACPoB,wBAAQ,EAAE,KADH;AAEPC,uBAAO,EAAE;AAFF;AAHgC,aAAzC;AASA;;AAED,gBAAI,CAACxD,eAAL,CAAqBmD,gBAArB,EAAuCE,eAAvC,CAAuDI,IAAvD,CAA6D1B,YAAY,CAACC,EAA1E;;AACA,gBAAI,CAAChC,eAAL,CAAqBmD,gBAArB,EAAuCG,KAAvC,CAA6CG,IAA7C,CAAmD1B,YAAY,CAAC2B,SAAhE;;AAEA,cAAI,eAAe3B,YAAY,CAACI,MAAhC,EAAwC;AACvC,kBAAI,CAACnC,eAAL,CAAqBmD,gBAArB,EAAuChB,MAAvC,CAA8CoB,QAA9C,GAAyD,IAAzD;AACA;;AAED,cAAI,cAAcxB,YAAY,CAACI,MAA/B,EAAuC;AACtC,kBAAI,CAACnC,eAAL,CAAqBmD,gBAArB,EAAuChB,MAAvC,CAA8CqB,OAA9C,GAAwD,IAAxD;AACA;AAED,SA3BD;AA4BA,OArCD;AAsCA;;;6BAEO;AAAA;;AAEP,yBAAI,KAAKtD,IAAT,EAAe4B,OAAf,CAAwB,UAAA6B,GAAG,EAAI;AAE9B,YAAIT,IAAI,GAAGS,GAAG,CAACC,OAAJ,CAAYD,GAAvB;;AAEA,YAAIT,IAAI,IAAI,MAAI,CAAClD,eAAjB,EAAkC;AAEjC2D,aAAG,CAACC,OAAJ,CAAYP,eAAZ,GAA8B,MAAI,CAACrD,eAAL,CAAqBkD,IAArB,EAA2BG,eAA3B,CAA2CQ,IAA3C,CAAiD,GAAjD,CAA9B;AACAF,aAAG,CAACG,YAAJ,CAAkB,OAAlB,EAA2B,MAAI,CAAC9D,eAAL,CAAqBkD,IAArB,EAA2BI,KAA3B,CAAiCO,IAAjC,CAAuC,GAAvC,CAA3B;AACAF,aAAG,CAACI,SAAJ,CAAcC,GAAd,CAAmB,MAAI,CAACC,cAAL,CAAqB,MAAI,CAACjE,eAAL,CAAqBkD,IAArB,EAA2Bf,MAAhD,CAAnB;AAEAwB,aAAG,CAAC/D,gBAAJ,CAAsB,OAAtB,EAA+B,UAAE2B,KAAF,EAAa;AAE3C,gBAAI,MAAI,CAAClB,cAAT,EAAyB;AACxB,oBAAI,CAACA,cAAL,CAAoB0D,SAApB,CAA8BG,MAA9B,CAAsC,UAAtC;AACA;;AAED,kBAAI,CAAC7D,cAAL,GAAsBkB,KAAK,CAACE,MAA5B;AAEAF,iBAAK,CAACE,MAAN,CAAasC,SAAb,CAAuBC,GAAvB,CAA4B,UAA5B,EAR2C,CAS3C;;AACA,gBAAIX,eAAe,GAAG9B,KAAK,CAACE,MAAN,CAAamC,OAAb,CAAqBP,eAArB,CAAqCc,KAArC,CAA4C,GAA5C,CAAtB;AAEA,gBAAIC,0BAA0B,GAAG,KAAjC;AAEA,gBAAIC,kBAAkB,GAAG1E,QAAQ,CAAC2B,cAAT,CAAyB,6BAAzB,CAAzB;AACA,gBAAIK,aAAa,GAAQhC,QAAQ,CAAC2B,cAAT,CAAyB,yBAAzB,CAAzB;AACA,gBAAIM,WAAW,GAAUjC,QAAQ,CAAC2B,cAAT,CAAyB,uBAAzB,CAAzB;AACA,gBAAIO,SAAS,GAAYlC,QAAQ,CAAC2B,cAAT,CAAyB,qBAAzB,CAAzB,CAjB2C,CAmB3C;AACA;;AACA,kBAAI,CAACxB,aAAL,CAAmBgC,OAAnB,CAA4B,UAAAC,YAAY,EAAI;AAC3C,kBAAIsB,eAAe,CAACiB,QAAhB,CAA0BvC,YAAY,CAACC,EAAb,CAAgBC,QAAhB,EAA1B,CAAJ,EAA4D;AAC3D,oBAAI,CAACmC,0BAAL,EAAiC;AAChC,wBAAI,CAAChE,mBAAL,GAAoC2B,YAAY,CAACC,EAAjD;AACAqC,oCAAkB,CAACE,OAAnB,CAA2BC,MAA3B,GAAoC,CAApC;AACA7C,+BAAa,CAACO,SAAd,GAAoCH,YAAY,CAACI,MAAjD;AACAP,6BAAW,CAACM,SAAZ,GAAoCH,YAAY,CAACK,UAAjD;AACAP,2BAAS,CAACK,SAAV,GAAoCH,YAAY,CAACM,QAAjD;AACA+B,4CAA0B,GAAU,IAApC;;AACA,wBAAI,CAAC9B,kBAAL,CAAyBP,YAAY,CAACI,MAAtC;;AACA,wBAAI,CAACI,iBAAL,CAAwBR,YAAY,CAACC,EAArC;AACA;;AACD,oBAAIyC,MAAM,GAAS9E,QAAQ,CAAC+E,aAAT,CAAwB,QAAxB,CAAnB;AACAD,sBAAM,CAAC/C,KAAP,GAAmBK,YAAY,CAACC,EAAhC;AACAyC,sBAAM,CAACE,SAAP,GAAmB5C,YAAY,CAAC2B,SAAhC;AACAW,kCAAkB,CAACO,WAAnB,CAAgCH,MAAhC;AACA;AACD,aAjBD;AAkBA,WAvCD;AAwCA,SA9CD,MA8CO,IAAK,OAAOvB,IAAZ,EAAkB;AACxB,gBAAI,CAACjD,aAAL;AACA;AACD,OArDD;;AAuDAN,cAAQ,CAAC2B,cAAT,CAAyB,iCAAzB,EAA6DY,SAA7D,GAAyE,KAAKjC,aAAL,GAAqB,iBAA9F;AACA;;;mCAEekC,M,EAAQ;AACvB,UAAIA,MAAM,CAACqB,OAAP,IAAkBrB,MAAM,CAACoB,QAA7B,EAAuC;AACtC,eAAO,kBAAP;AACA;;AACD,UAAIpB,MAAM,CAACqB,OAAX,EAAoB;AACnB,aAAKvD,aAAL;AACA,eAAO,SAAP;AACA;;AACD,UAAIkC,MAAM,CAACoB,QAAX,EAAqB;AACpB,eAAO,UAAP;AACA;;AACD,aAAO,EAAP;AACA;;;uCAEmBpB,M,EAAQ;AAG3B,UAAI0C,aAAa,GAAGlF,QAAQ,CAAC2B,cAAT,CAAyB,+BAAzB,CAApB;;AAEA,UAAI,cAAca,MAAlB,EAA0B;AACzB0C,qBAAa,CAACd,SAAd,CAAwBG,MAAxB,CAAgC,gCAAhC;AACAW,qBAAa,CAACd,SAAd,CAAwBC,GAAxB,CAA6B,+BAA7B;AACA;;AAED,UAAI,eAAe7B,MAAnB,EAA2B;AAC1B0C,qBAAa,CAACd,SAAd,CAAwBG,MAAxB,CAAgC,+BAAhC;AACAW,qBAAa,CAACd,SAAd,CAAwBC,GAAxB,CAA6B,gCAA7B;AACA;AACD;;;sCAEkBc,K,EAAO;AAEzB,UAAIC,MAAM,GAAKpF,QAAQ,CAAC2B,cAAT,CAAyB,8BAAzB,CAAf;AACAyD,YAAM,CAACrD,KAAP,GAAe,EAAf;AAEA,UAAIsD,IAAI,GAAKrF,QAAQ,CAAC2B,cAAT,CAAyB,8BAAzB,CAAb;AACA0D,UAAI,CAACtD,KAAL,GAAa,MAAb;AAEA,UAAIuD,IAAI,GAAOtF,QAAQ,CAAC2B,cAAT,CAAyB,2BAAzB,CAAf;AACA2D,UAAI,CAACrC,OAAL,GAAe,KAAf;AAEA,UAAIsC,KAAK,GAAOvF,QAAQ,CAAC2B,cAAT,CAAyB,4BAAzB,CAAhB;AACA4D,WAAK,CAACtC,OAAN,GAAgB,KAAhB;AAEA,UAAIuC,OAAO,GAAOxF,QAAQ,CAAC2B,cAAT,CAAyB,8BAAzB,CAAlB;AACA6D,aAAO,CAACvC,OAAR,GAAkB,KAAlB;AAEA,UAAIwC,MAAM,GAAOzF,QAAQ,CAAC2B,cAAT,CAAyB,6BAAzB,CAAjB;AACA8D,YAAM,CAACxC,OAAP,GAAiB,KAAjB;;AAEA,UAAIkC,KAAK,IAAI,KAAK/E,0BAAlB,EAA8C;AAC7C,YAAI,iBAAiB,KAAKA,0BAAL,CAAgC+E,KAAhC,CAArB,EAA6D;AAC5DC,gBAAM,CAACrD,KAAP,GAAe,KAAK3B,0BAAL,CAAgC+E,KAAhC,EAAuC,aAAvC,CAAf;AACA;;AACD,YAAI,UAAU,KAAK/E,0BAAL,CAAgC+E,KAAhC,CAAd,EAAsD;AACrDE,cAAI,CAACtD,KAAL,GAAa,KAAK3B,0BAAL,CAAgC+E,KAAhC,EAAuC,MAAvC,CAAb;AACA;;AACD,YAAI,UAAU,KAAK/E,0BAAL,CAAgC+E,KAAhC,CAAd,EAAsD;AACrD,cAAI,WAAW,KAAK/E,0BAAL,CAAgC+E,KAAhC,EAAuC,MAAvC,CAAf,EAA+D;AAC9DG,gBAAI,CAACrC,OAAL,GAAe,IAAf;AACA;AACD;;AACD,YAAI,WAAW,KAAK7C,0BAAL,CAAgC+E,KAAhC,CAAf,EAAuD;AACtD,cAAI,WAAW,KAAK/E,0BAAL,CAAgC+E,KAAhC,EAAuC,OAAvC,CAAf,EAAgE;AAC/DI,iBAAK,CAACtC,OAAN,GAAgB,IAAhB;AACA;AACD;;AACD,YAAI,aAAa,KAAK7C,0BAAL,CAAgC+E,KAAhC,CAAjB,EAAyD;AACxD,cAAI,WAAW,KAAK/E,0BAAL,CAAgC+E,KAAhC,EAAuC,SAAvC,CAAf,EAAkE;AACjEK,mBAAO,CAACvC,OAAR,GAAkB,IAAlB;AACA;AACD;;AACD,YAAI,YAAY,KAAK7C,0BAAL,CAAgC+E,KAAhC,CAAhB,EAAwD;AACvD,cAAI,WAAW,KAAK/E,0BAAL,CAAgC+E,KAAhC,EAAuC,QAAvC,CAAf,EAAiE;AAChEM,kBAAM,CAACxC,OAAP,GAAiB,IAAjB;AACA;AACD;AAED;AACD;;;6BAESE,S,EAAWE,O,EAAS;AAC7B,UAAIqC,KAAK,GAAG,EAAZ;;AAEA,aAAOvC,SAAS,GAAGE,OAAnB,EAA4B;AAC3BqC,aAAK,gCAAOA,KAAP,IAAc,IAAItC,IAAJ,CAAUD,SAAV,CAAd,EAAL;AACAA,iBAAS,CAACwC,OAAV,CAAmBxC,SAAS,CAACyC,OAAV,KAAsB,CAAzC;AACA;;AACD,0CAAWF,KAAX,IAAkBrC,OAAlB;AACA;;;8BAEUE,I,EAAM;AAChB,UAAIsC,CAAC,GAAGtC,IAAI,CAACqC,OAAL,EAAR;AACA,UAAIE,CAAC,GAAGvC,IAAI,CAACwC,QAAL,KAAkB,CAA1B;AACA,UAAIC,CAAC,GAAGzC,IAAI,CAAC0C,WAAL,EAAR;AACA,aAAO,KAAKD,CAAL,GAAS,GAAT,IAAiBF,CAAC,IAAI,CAAL,GAAS,MAAMA,CAAf,GAAmBA,CAApC,IAA0C,GAA1C,IAAkDD,CAAC,IAAI,CAAL,GAAS,MAAMA,CAAf,GAAmBA,CAArE,CAAP;AACA;;;;;;AAGa3F,0EAAf,E;;;;;;;;;;;ACtXA,uC","file":"frontend/bundle.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/assets/src/frontend/index.js\");\n","import './scss/main.scss';\r\nimport './js/calendar-app.js';\r\n\r\nimport CalendarApp from './js/calendar-app.js';\r\n\r\n// Do on DOM ready\r\ndocument.addEventListener( 'DOMContentLoaded', () => {\r\n\tnew CalendarApp();\r\n} );","class CalendarApp {\r\n\r\n\tconstructor(){\r\n\r\n\t\t// stores registrations returned from retreat guru\r\n\t\tthis.registrations = {};\r\n\r\n\t\t// stores registrations returned from retreat guru\r\n\t\tthis.AdditionalRegistrationData = {};\r\n\r\n\t\t// Store registration data per date\r\n\t\tthis.calendarDayData = {};\r\n\r\n\t\t// Store registration data per date\r\n\t\tthis.daysAvailable = 0;\r\n\r\n\t\t// get all day elements\r\n\t\tthis.days = document.querySelectorAll( \".days li a\" );\r\n\r\n\t\t// store the current registration being viewed\r\n\t\tthis.currentRegistration = 0;\r\n\r\n\t\t// last day clicked\r\n\t\tthis.lastDayClicked = false;\r\n\r\n\t\t// load and save rest data\r\n\t\tthis.loadRegistrations();\r\n\r\n\t\tthis.addEvents();\r\n\t}\r\n\r\n\tloadRegistrations(){\r\n\r\n\t\t// Get the registration data from retreat guru\r\n\t\tfetch( 'https://demo14.secure.retreat.guru/api/v1/registrations?token=ef061e1a717568ee5ca5c76a94cf5842', {\r\n\t\t\tmethod: 'get',\r\n\t\t} )\r\n\t\t\t.then( function ( response ){\r\n\t\t\t\t// get the json body\r\n\t\t\t\treturn response.json();\r\n\t\t\t} )\r\n\t\t\t.then( ( data ) => {\r\n\t\t\t\tif (\"error\" in data) {\r\n\t\t\t\t\t// Do something with the error\r\n\t\t\t\t\talert( data.error )\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// store the data\r\n\t\t\t\t\tthis.registrations = data;\r\n\r\n\t\t\t\t\t// Normalize data\r\n\t\t\t\t\tthis.normalizeData();\r\n\r\n\t\t\t\t\t// load the data into the UI\r\n\t\t\t\t\tthis.loadUI();\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( function ( err ){\r\n\t\t\t\t// do something with the error\r\n\t\t\t\tconsole.log( err );\r\n\t\t\t\talert( err );\r\n\t\t\t} );\r\n\r\n\t\t// Get the registration data from retreat guru\r\n\t\tfetch( 'http://instinctive-bear.flywheelsites.com/calendar/', {\r\n\t\t\tmethod: 'get',\r\n\t\t} )\r\n\t\t\t.then( function ( response ){\r\n\t\t\t\t// get the json body\r\n\t\t\t\treturn response.json();\r\n\t\t\t} )\r\n\t\t\t.then( ( data ) => {\r\n\t\t\t\tif (\"error\" in data) {\r\n\t\t\t\t\t// Do something with the error\r\n\t\t\t\t\talert( data.error )\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// store the data\r\n\t\t\t\t\tthis.AdditionalRegistrationData = data;\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( function ( err ){\r\n\t\t\t\t// do something with the error\r\n\t\t\t\tconsole.log( err );\r\n\t\t\t\talert( err );\r\n\t\t\t} );\r\n\r\n\t}\r\n\r\n\taddEvents(){\r\n\t\tdocument.getElementById( 'retreat-calendar-guest-name' ).addEventListener( \"change\", ( event ) => {\r\n\r\n\t\t\t// get registration ID\r\n\t\t\tlet registrationId = event.target.value;\r\n\r\n\t\t\tlet detailsStatus = document.getElementById( 'retreat-calendar-status' );\r\n\t\t\tlet detailsFrom   = document.getElementById( 'retreat-calendar-from' );\r\n\t\t\tlet detailsTo     = document.getElementById( 'retreat-calendar-to' );\r\n\r\n\t\t\t// loop through registration and find the first registration ID that matches and fill the side bar\r\n\t\t\t// keep looping add add the other names to the select name drop down\r\n\t\t\tthis.registrations.forEach( registration => {\r\n\t\t\t\tif (registrationId === registration.id.toString()) {\r\n\t\t\t\t\tthis.currentRegistration = registration.id;\r\n\t\t\t\t\tdetailsStatus.innerText  = registration.status;\r\n\t\t\t\t\tdetailsFrom.innerText    = registration.start_date;\r\n\t\t\t\t\tdetailsTo.innerText      = registration.end_date;\r\n\t\t\t\t\tthis.setDetailsColColor( registration.status );\r\n\t\t\t\t\tthis.setAdditionalInfo( registration.id );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\r\n\t\tdocument.getElementById( 'retreat-calendar-flight-info' ).addEventListener( \"blur\", ( event ) => {\r\n\t\t\tthis.saveData( 'flight-info', event )\r\n\t\t} );\r\n\r\n\t\tdocument.getElementById( 'retreat-calendar-select-diet' ).addEventListener( \"change\", ( event ) => {\r\n\t\t\tthis.saveData( 'diet', event )\r\n\t\t} );\r\n\r\n\t\tdocument.getElementById( 'retreat-calendar-add-yoga' ).addEventListener( \"change\", ( event ) => {\r\n\t\t\tthis.saveData( 'yoga', event )\r\n\t\t} );\r\n\r\n\t\tdocument.getElementById( 'retreat-calendar-add-juice' ).addEventListener( \"change\", ( event ) => {\r\n\t\t\tthis.saveData( 'juice', event )\r\n\t\t} );\r\n\r\n\t\tdocument.getElementById( 'retreat-calendar-add-massage' ).addEventListener( \"change\", ( event ) => {\r\n\t\t\tthis.saveData( 'massage', event )\r\n\t\t} );\r\n\r\n\t\tdocument.getElementById( 'retreat-calendar-add-breath' ).addEventListener( \"change\", ( event ) => {\r\n\t\t\tthis.saveData( 'breath', event )\r\n\t\t} );\r\n\t}\r\n\r\n\tsaveData( key, event ){\r\n\r\n\t\tevent.target.disabled = true;\r\n\r\n\t\tlet value;\r\n\r\n\t\tif ('checkbox' === event.target.type) {\r\n\t\t\tvalue = event.target.checked;\r\n\t\t} else {\r\n\t\t\tvalue = event.target.value;\r\n\t\t}\r\n\r\n\t\t// Get the registration data from retreat guru\r\n\t\tfetch( 'http://instinctive-bear.flywheelsites.com/calendar/?registrationID=' + this.currentRegistration + '&key=' + key + '&value=' + value, {\r\n\t\t\tmethod: 'get',\r\n\t\t} )\r\n\t\t\t.then( function ( response ){\r\n\t\t\t\t// get the json body\r\n\t\t\t\treturn response.json();\r\n\t\t\t} )\r\n\t\t\t.then( ( data ) => {\r\n\t\t\t\tif (\"error\" in data) {\r\n\t\t\t\t\t// Do something with the error\r\n\t\t\t\t\talert( data.error )\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// store the data\r\n\t\t\t\t\tthis.AdditionalRegistrationData = data;\r\n\t\t\t\t\tevent.target.disabled           = false;\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t\t.catch( function ( err ){\r\n\t\t\t\t// do something with the error\r\n\t\t\t\tconsole.log( err );\r\n\t\t\t\talert( err );\r\n\t\t\t} );\r\n\t}\r\n\r\n\tnormalizeData(){\r\n\r\n\t\t[...this.registrations].forEach( registration => {\r\n\r\n\t\t\tif (6 !== registration.room_id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet startDate = new Date( registration.start_date + \" 00:00:00 GMT-0700\" );\r\n\t\t\tlet endDate   = new Date( registration.end_date + \" 00:00:00 GMT-0700\" );\r\n\r\n\t\t\tthis.getDates( startDate, endDate ).forEach( date => {\r\n\r\n\t\t\t\tlet registrationDate = this.dateToYMD( date );\r\n\r\n\t\t\t\tif (!( registrationDate in this.calendarDayData )) {\r\n\t\t\t\t\tthis.calendarDayData[registrationDate] = {\r\n\t\t\t\t\t\tregistrationIds: [],\r\n\t\t\t\t\t\tnames: [],\r\n\t\t\t\t\t\tstatus: {\r\n\t\t\t\t\t\t\toccupied: false,\r\n\t\t\t\t\t\t\tpending: false,\r\n\t\t\t\t\t\t},\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.calendarDayData[registrationDate].registrationIds.push( registration.id );\r\n\t\t\t\tthis.calendarDayData[registrationDate].names.push( registration.full_name );\r\n\r\n\t\t\t\tif (\"reserved\" === registration.status) {\r\n\t\t\t\t\tthis.calendarDayData[registrationDate].status.occupied = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\"pending\" === registration.status) {\r\n\t\t\t\t\tthis.calendarDayData[registrationDate].status.pending = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t} );\r\n\t\t} );\r\n\t}\r\n\r\n\tloadUI(){\r\n\r\n\t\t[...this.days].forEach( day => {\r\n\r\n\t\t\tlet date = day.dataset.day;\r\n\r\n\t\t\tif (date in this.calendarDayData) {\r\n\r\n\t\t\t\tday.dataset.registrationIds = this.calendarDayData[date].registrationIds.join( ',' );\r\n\t\t\t\tday.setAttribute( 'title', this.calendarDayData[date].names.join( ',' ) );\r\n\t\t\t\tday.classList.add( this.getStatusClass( this.calendarDayData[date].status ) );\r\n\r\n\t\t\t\tday.addEventListener( \"click\", ( event ) => {\r\n\r\n\t\t\t\t\tif (this.lastDayClicked) {\r\n\t\t\t\t\t\tthis.lastDayClicked.classList.remove( 'selected' );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.lastDayClicked = event.target;\r\n\r\n\t\t\t\t\tevent.target.classList.add( 'selected' );\r\n\t\t\t\t\t// get registration IDs\r\n\t\t\t\t\tlet registrationIds = event.target.dataset.registrationIds.split( ',' );\r\n\r\n\t\t\t\t\tlet firstRegistrationPopulated = false;\r\n\r\n\t\t\t\t\tlet detailsSelectNames = document.getElementById( 'retreat-calendar-guest-name' );\r\n\t\t\t\t\tlet detailsStatus      = document.getElementById( 'retreat-calendar-status' );\r\n\t\t\t\t\tlet detailsFrom        = document.getElementById( 'retreat-calendar-from' );\r\n\t\t\t\t\tlet detailsTo          = document.getElementById( 'retreat-calendar-to' );\r\n\r\n\t\t\t\t\t// loop through registration and find the first registration ID that matches and fill the side bar\r\n\t\t\t\t\t// keep looping add add the other names to the select name drop down\r\n\t\t\t\t\tthis.registrations.forEach( registration => {\r\n\t\t\t\t\t\tif (registrationIds.includes( registration.id.toString() )) {\r\n\t\t\t\t\t\t\tif (!firstRegistrationPopulated) {\r\n\t\t\t\t\t\t\t\tthis.currentRegistration          = registration.id;\r\n\t\t\t\t\t\t\t\tdetailsSelectNames.options.length = 0;\r\n\t\t\t\t\t\t\t\tdetailsStatus.innerText           = registration.status;\r\n\t\t\t\t\t\t\t\tdetailsFrom.innerText             = registration.start_date;\r\n\t\t\t\t\t\t\t\tdetailsTo.innerText               = registration.end_date;\r\n\t\t\t\t\t\t\t\tfirstRegistrationPopulated        = true;\r\n\t\t\t\t\t\t\t\tthis.setDetailsColColor( registration.status );\r\n\t\t\t\t\t\t\t\tthis.setAdditionalInfo( registration.id )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet option       = document.createElement( 'option' );\r\n\t\t\t\t\t\t\toption.value     = registration.id;\r\n\t\t\t\t\t\t\toption.innerHTML = registration.full_name;\r\n\t\t\t\t\t\t\tdetailsSelectNames.appendChild( option );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t} else if ( '' !== date) {\r\n\t\t\t\tthis.daysAvailable++;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tdocument.getElementById( 'retreat-calendar-days-available' ).innerText = this.daysAvailable + ' available days';\r\n\t}\r\n\r\n\tgetStatusClass( status ){\r\n\t\tif (status.pending && status.occupied) {\r\n\t\t\treturn 'pending-occupied'\r\n\t\t}\r\n\t\tif (status.pending) {\r\n\t\t\tthis.daysAvailable++;\r\n\t\t\treturn 'pending'\r\n\t\t}\r\n\t\tif (status.occupied) {\r\n\t\t\treturn 'occupied'\r\n\t\t}\r\n\t\treturn ''\r\n\t}\r\n\r\n\tsetDetailsColColor( status ){\r\n\r\n\r\n\t\tlet detailsColumn = document.getElementById( 'retreat-calendar--col-details' );\r\n\r\n\t\tif ('pending' === status) {\r\n\t\t\tdetailsColumn.classList.remove( 'retreat-calendar--col-occupied' );\r\n\t\t\tdetailsColumn.classList.add( 'retreat-calendar--col-pending' );\r\n\t\t}\r\n\r\n\t\tif ('reserved' === status) {\r\n\t\t\tdetailsColumn.classList.remove( 'retreat-calendar--col-pending' );\r\n\t\t\tdetailsColumn.classList.add( 'retreat-calendar--col-occupied' );\r\n\t\t}\r\n\t}\r\n\r\n\tsetAdditionalInfo( regId ){\r\n\r\n\t\tlet flight   = document.getElementById( 'retreat-calendar-flight-info' );\r\n\t\tflight.value = '';\r\n\r\n\t\tlet diet   = document.getElementById( 'retreat-calendar-select-diet' );\r\n\t\tdiet.value = 'none';\r\n\r\n\t\tlet yoga     = document.getElementById( 'retreat-calendar-add-yoga' );\r\n\t\tyoga.checked = false;\r\n\r\n\t\tlet juice     = document.getElementById( 'retreat-calendar-add-juice' );\r\n\t\tjuice.checked = false;\r\n\r\n\t\tlet massage     = document.getElementById( 'retreat-calendar-add-massage' );\r\n\t\tmassage.checked = false;\r\n\r\n\t\tlet breath     = document.getElementById( 'retreat-calendar-add-breath' );\r\n\t\tbreath.checked = false;\r\n\r\n\t\tif (regId in this.AdditionalRegistrationData) {\r\n\t\t\tif ('flight-info' in this.AdditionalRegistrationData[regId]) {\r\n\t\t\t\tflight.value = this.AdditionalRegistrationData[regId]['flight-info']\r\n\t\t\t}\r\n\t\t\tif ('diet' in this.AdditionalRegistrationData[regId]) {\r\n\t\t\t\tdiet.value = this.AdditionalRegistrationData[regId]['diet']\r\n\t\t\t}\r\n\t\t\tif ('yoga' in this.AdditionalRegistrationData[regId]) {\r\n\t\t\t\tif ('true' === this.AdditionalRegistrationData[regId]['yoga']) {\r\n\t\t\t\t\tyoga.checked = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ('juice' in this.AdditionalRegistrationData[regId]) {\r\n\t\t\t\tif ('true' === this.AdditionalRegistrationData[regId]['juice']) {\r\n\t\t\t\t\tjuice.checked = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ('massage' in this.AdditionalRegistrationData[regId]) {\r\n\t\t\t\tif ('true' === this.AdditionalRegistrationData[regId]['massage']) {\r\n\t\t\t\t\tmassage.checked = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif ('breath' in this.AdditionalRegistrationData[regId]) {\r\n\t\t\t\tif ('true' === this.AdditionalRegistrationData[regId]['breath']) {\r\n\t\t\t\t\tbreath.checked = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tgetDates( startDate, endDate ){\r\n\t\tlet dates = [];\r\n\r\n\t\twhile (startDate < endDate) {\r\n\t\t\tdates = [...dates, new Date( startDate )];\r\n\t\t\tstartDate.setDate( startDate.getDate() + 1 );\r\n\t\t}\r\n\t\treturn [...dates, endDate];\r\n\t}\r\n\r\n\tdateToYMD( date ){\r\n\t\tlet d = date.getDate();\r\n\t\tlet m = date.getMonth() + 1;\r\n\t\tlet y = date.getFullYear();\r\n\t\treturn '' + y + '-' + ( m <= 9 ? '0' + m : m ) + '-' + ( d <= 9 ? '0' + d : d );\r\n\t}\r\n}\r\n\r\nexport default CalendarApp;","// extracted by mini-css-extract-plugin"],"sourceRoot":""}